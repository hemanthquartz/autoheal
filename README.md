"ZipFile": "import boto3\nimport botocore\nimport cfnresponse\nimport pprint\n\n\ndef create_bucket(name, region, tags_list):\n    client = boto3.client('s3')\n\n    # === NEW: skip creation if bucket already exists ===\n    try:\n        client.head_bucket(Bucket=name)\n        print(f\"Bucket {name} already exists; skipping creation.\")\n        # Optionally (and safely) apply tags to an existing bucket\n        if tags_list:\n            try:\n                client.put_bucket_tagging(Bucket=name, Tagging={'TagSet': tags_list})\n                print(\"Tagged bucket successfully (existing bucket)\")\n            except Exception as e:\n                print(f\"Failed to tag existing bucket {name}. Error: {e}\")\n        return\n    except botocore.exceptions.ClientError as e:\n        # 404/NoSuchBucket means it doesn't exist; proceed to create\n        code = e.response.get('Error', {}).get('Code')\n        if code in ['404', 'NoSuchBucket']:\n            print(f\"Bucket {name} not found. Proceeding with creation.\")\n        else:\n            # Other errors (e.g., AccessDenied) should surface\n            print(f\"head_bucket error while checking {name}: {e}\")\n            raise\n\n    # === Original creation logic (unchanged, just runs only if needed) ===\n    try:\n        if region == 'us-east-1':\n            client.create_bucket(ACL='private', Bucket=name)\n        else:\n            client.create_bucket(\n                ACL='private',\n                Bucket=name,\n                CreateBucketConfiguration={'LocationConstraint': region}\n            )\n        print(f\"Amazon S3 bucket {name} created successfully\")\n    except Exception as e:\n        # Keep original tolerant behavior\n        if 'BucketAlreadyOwnedByYou' in str(e) or 'BucketAlreadyExists' in str(e):\n            print(f\"Bucket {name} already exists; skipping creation.\")\n        else:\n            print(f\"Failed to create Amazon S3 bucket {name}. Error: {e}\")\n            raise\n\n    # === Tagging (preserved) ===\n    if tags_list:\n        try:\n            client.put_bucket_tagging(Bucket=name, Tagging={'TagSet': tags_list})\n            print(\"Tagged bucket successfully\")\n        except Exception as e:\n            print(f\"Failed to tag bucket {name}. Error: {e}\")\n"